@model IEnumerable<FoodBankViewModel>

@{
	ViewData["Title"] = "Foodbank";
}

<div class="content-card">
	<div class="page-header">
		<h1><i class="fas fa-puzzle-piece text-primary-custom me-2"></i>Foodbank</h1>
		<a asp-action="Create" class="btn btn-primary">
			<i class="fas fa-plus me-2"></i>Create New
		</a>
	</div>

	@if (ViewBag.Error != null)
	{
		<div class="alert alert-danger" role="alert">
			<i class="fas fa-exclamation-circle me-2"></i>@ViewBag.Error
		</div>
	}

	@if (Model != null && Model.Any())
	{
		<div class="table-responsive">
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th>@Html.DisplayNameFor(model => model.FoodItemId)</th>
						<th>@Html.DisplayNameFor(model => model.Name)</th>
						<th>@Html.DisplayNameFor(model => model.Category)</th>
						<th>@Html.DisplayNameFor(model => model.Brand)</th>
						<th>@Html.DisplayNameFor(model => model.Description)</th>
						<th>@Html.DisplayNameFor(model => model.Price)</th>
						<th>@Html.DisplayNameFor(model => model.Unit)</th>
						<th>@Html.DisplayNameFor(model => model.QuantityInStock)</th>
						<th>@Html.DisplayNameFor(model => model.ExpirationDate)</th>
						<th>@Html.DisplayNameFor(model => model.IsPerishable)</th>
						<th>@Html.DisplayNameFor(model => model.CaloriesPerServing)</th>
						<th>@Html.DisplayNameFor(model => model.Ingredients)</th>
						<th>@Html.DisplayNameFor(model => model.Barcode)</th>
						<th>@Html.DisplayNameFor(model => model.Supplier)</th>
						<th>@Html.DisplayNameFor(model => model.DateAdded)</th>
						<th>@Html.DisplayNameFor(model => model.IsActive)</th>
						<th>@Html.DisplayNameFor(model => model.RoleId)</th>

						<th class="text-end">Actions</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var item in Model)
					{
						<tr>
							<td><strong>@Html.DisplayFor(modelItem => item.FoodItemId)</strong></td>
							<td>@Html.DisplayFor(modelItem => item.Name)</td>
							<td>@Html.DisplayFor(modelItem => item.Category)</td>
							<td>@Html.DisplayFor(modelItem => item.Brand)</td>
							<td>@Html.DisplayFor(modelItem => item.Description)</td>
							<td>@Html.DisplayFor(modelItem => item.Price)</td>
							<td>@Html.DisplayFor(modelItem => item.Unit)</td>
							<td>@Html.DisplayFor(modelItem => item.QuantityInStock)</td>
							<td>@Html.DisplayFor(modelItem => item.ExpirationDate)</td>
							<td>@Html.DisplayFor(modelItem => item.IsPerishable)</td>
							<td>@Html.DisplayFor(modelItem => item.CaloriesPerServing)</td>
							<td>@Html.DisplayFor(modelItem => item.Ingredients)</td>
							<td>@Html.DisplayFor(modelItem => item.Barcode)</td>
							<td>@Html.DisplayFor(modelItem => item.Supplier)</td>
							<td>@Html.DisplayFor(modelItem => item.DateAdded)</td>
							<td>@Html.DisplayFor(modelItem => item.IsActive)</td>
							<td>@Html.DisplayFor(modelItem => item.RoleId)</td>
							
							<td class="text-end">
								<div class="action-buttons">
									<a asp-controller="Component" asp-action="Details" asp-route-id="@((int)item.FoodItemId)" class="btn btn-info btn-sm">
										<i class="fas fa-eye"></i>
									</a>
									<a asp-controller="Component" asp-action="Edit" asp-route-id="@((int)item.FoodItemId)" class="btn btn-warning btn-sm">
										<i class="fas fa-edit"></i>
									</a>
									<a asp-controller="Component" asp-action="Delete" asp-route-id="@((int)item.FoodItemId)" class="btn btn-danger btn-sm">
										<i class="fas fa-trash"></i>
									</a>
								</div>
							</td>
						</tr>
					}
				</tbody>
			</table>
		</div>
	}
	else
	{
		<div class="empty-state">
			<div class="empty-state-icon">
				<i class="fas fa-puzzle-piece"></i>
			</div>
			<h3>No Components Found</h3>
			<p>Get started by creating your first component.</p>
			<a asp-action="Create" class="btn btn-primary mt-3">
				<i class="fas fa-plus me-2"></i>Create Component
			</a>
		</div>
	}
</div>


